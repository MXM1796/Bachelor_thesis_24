% !TEX root = mythesis.tex%==============================================================================\chapter{Characterization of a SNSPD by Single Quantum}\label{sec:SNSPD_Characterization}%==============================================================================In literature, four central characteristics have emerged to quantify the quality of single photon detectors andmake their performance comparable \cite{natarajan-2012, hadfield-2009}.These characteristics are the system detection efficiency $\eta_{\text{sde}}$, the dark count rate (DCR), the recovery time ($\tau_{\text{recovery}} = \tau_{\text{rec}}$)and the timing jitter.In this thesis, I focus on the detector efficiency $\eta_{\text{sde}}$, the dark count rate (DCR) and the recovery time ($\tau_{\text{rec}}$).In general there are more than these introduced figures of merits, like after-pulsing but these will not be considered in this thesis.\section{Dark Count Rate}\label{sec:dark-count-rate}The DCR is the rate of measured detection events not intentionally sent from the source (here the faint laser source).It is measured in counts per second and can be caused by statistical fluctuations in the measurement electronics.A low DCR is important for a high signal-to-noise ratio and means easy interpretable results which are not distorted by noise \cite{wikipedia-contributors-2024}.In the context of SNSPDs, the DCR is dependent on the bias current applied to the nanowire.This is due to the fact that if the bias current approaches the critical current, less current $\Delta I= I_c - I_B$ is needed to exceed the critical current .Therefore, electronic fluctuation, close to the critical current will cause a breakdown of the superconducting state and hence a dark count more often.Furthermore, it is important to perform DCR measurements first in the characterization process because it determines thelimit, where general measurements are not distorted by high DCR noise.\subsection*{Measurement and results}In order to evaluate the DCR, it is necessary to perform measurements in two different setups.First, a setup in which no optical fibre is connected to the detector and the port is covered.In such a setup, it can be assumed that no photons from the surrounding environment are striking the detector.This allows for the measurement of the DCR only triggered by the electronics noise depending on the detector's bias current and trigger voltage.The required measurement setup consists out of the detector with the protection cap on the output port of the detector.This configuration represents the most shielded environment from external light sources and serves as the referencevalue for optimal DCR values achievable in single photon measurements.The measurement was conducted by sweeping the bias current from 0 to 35$\si{\micro \A}$in 0.1$\si{\micro \A}$increments with an integration time of 200ms at each stepThe second setup involves connecting the detector to the faint laser source of section \ref{sec:characteristics_faint laser sources}.The laser source was turned off, so no photons from the source were sent to the detector.This is done in order determine the DCR for consecutive measurements and improve the light shielding of the setup and theoptical fibre.This allows one to find the optimal shielding configuration for the highest signal-to-noise ratio.Once more, the bias current was swept from 0 to 35 µA in 0.1 µA increments with an integration time of the count rates for 200 ms.In fig \subref{fig: DCR_black_box_to_exp} the results are shown for an optimized and a non optimized case.At the initial, non optimized configuration an optical fibre was connected to the detector's output port and thefibre output coupling of the experiment.The laser source was turned off, so only electronic fluctuations and ambient light hitting the detector can cause detection events.To reduce dark counts due to ambient light a black box was constructed that covers the laser setup.Further, the fiber was wrapped in aluminum foil to prevent ambient light to couple to the core through the cladding.As expected, the DCR rise in each case in \subref{fig: DCR_black_box_to_exp} with decreasing difference $ \Delta I= I_c - I_B$due to raising probability that weak electronic noises trigger a signal.The orange curve in \subref{fig: DCR_black_box_to_exp} demonstrates that in the absence of protection, a significant number of photons from the environmentare able to enter the detector through various potential pathways like the fibre cladding or the coupling connection to the laser setup.\\In contrast, the measurement results with full shielding, depicted in figure \ref{fig: DCR_black_box_to_exp} as well,show, that the DCR of the coupled and protected setup is the same as to the DCR with a cap on.The peaks in the green curve at $\approx 3$ and $\approx 14 \si{\micro \A}$are artifacts resulting from some leakages in the protection.Nevertheless, these leakages are not substantial when viewed in the context of the total photon count rate,particularly when considering the anticipated photon rates from the faint weak laser source operatingin the high kHz and MHz frequency ranges.Lastly, one can conclude from the investigation of the DCR of channel 1, that all further measurements have to be doneat a bias current of $ I_B < \approx 31.2\si{\micro \A}$As mentioned above the final figure of merit for the DCR is depending on the bias current working point.In this work, five 60s measurements were done for three different bias currents (24, 28 and 31.2$\si{\micro \A}$).The averaged results for channel one of the detector yield a DCR of:\begin{align}    &DCR_{24\si{\micro \A}} = (5 \pm 0.0001) \si{\Hz} \\    &DCR_{28\si{\micro \A}} = (4 \pm 0.0001) \si{\Hz} \\    &DCR_{31.2\si{\micro \A}} = (3 \pm 0.0001) \si{\Hz}\end{align}\begin{figure}    \centering    \includegraphics[width=\linewidth]{figs/HQO_20240708_DCR_cap_on_Channel_1_Ba_thesis}    \caption{Channel 1 DCR measurements for different bias currents at a trigger voltage of 200MHz.    The blue curve shows the DCR with a cap on the output port of the detector.    The orange curve shows the DCR with a fibre connected to the detector and the fibre output coupling of the experiment.    The green curve shows the DCR with a fibre connected to the detector, the fibre output coupling of the experiment and alumni foil    wrapped around the optical fibre.}    \label{fig: DCR_black_box_to_exp}\end{figure}\FloatBarrier\section{Recovery time}\label{sec:recovery-time}The concept of the recovery time is visually depicted in fig \ref{fig:Recovery_time}.When a photon hits the detector and is absorbed, the efficiency of the detector drops to zero and no further photons canbe measured for a certain period of time.This elapsed time is called the dead time $\tau_{\text{dead}} = \tau_{\text{d}}$.The efficiency then rises again to the original device efficiency $\eta_{G}$.This period is called the reset time $\tau_{\text{reset}} = \tau_{\text{r}}$.The vertical dashed line forms the starting point where the efficiency rises again to the original device efficiency $\eta_{G}$.Finally, the sum $\tau_{\text{rec}} = \tau_{\text{r}} + \tau_{\text{d}}$ of both times forms the recovery time $\tau_{\text{rec}}$.The recovery time is important because it determines the rate the detector can detect photons.The lower the recovery time, as higher the counting rate.\begin{figure}[H] \centering \includegraphics[width=0.8\textwidth]{figs/HQO_20240712_recoverytime_visualized_engl} \caption{Schematic efficiency curve for the detection of a photon\cite{shalm_single-photon_2013}. On the Y axis is the efficiency $\eta$, where $\eta_{G}$ is the device efficiency. On the X axis is the time course of the efficiency The trajectory of the initial device efficiency, represented by the variable , does not align with the illustration}. \label{fig:Recovery_time}\end{figure}\FloatBarrier\subsection*{Measurement and results}In this work, the recovery time of the detector is determined through an autocorrelation method based on acontinuous wave laser source (a faint laser source), a technique that has been previously employed by other research groups.\cite{autebert-2020,miki-2017}.The measurement was conducted with the setup shown in fig \ref{fig: recovery_time_setup}.The raw analog signals from the detector were directly transmitted to a time tagger unit (Time Tagger 20)by Swabian instruments.with self-adjustable trigger voltages, a device deadtime of 6ns and a maximal counting rate of 9MHz.\begin{figure}[H] \centering \includegraphics[width=0.8\textwidth]{figs/HQO_20240712_recoverytime_setup} \caption{Experimental setup for measuring the recovery time. Optical setup of "faint laser source in black box" is depicted in \ref{fig: faint_laser_source_full_set_up}}. \label{fig: recovery_time_setup}\end{figure}This unit enabled the tagging of incoming signals with a time tag, as implied by its name.Subsequently, the tags were used to process the time distances between all signals.The histogram of these distances provide an autocorrelation in time (here not normalized).The autocorrelation was measured for one channel for four different bias currents (26$\si{\micro \A}$, 28$\si{\micro \A}$, 31$\si{\micro \A}$ and 31.2$\si{\micro \A}$) andtrigger voltages (300$\si{\milli \V}$, 400$\si{\milli \V}$, 500$\si{\milli \V}$ and 600$\si{\milli \V}$).These measurements were done to determine the recovery time and analyze it dependencies.The results for a fixed bias current of 31.2$\si{\micro \A}$ are shown in figure \ref{fig: recovery_time_measurement_31_2uA}and for 26uA in \ref{fig: recovery_time_measurement_25uA}.The other measurement results are presented in the appendix \ref{sec:Recovery time measurements}.\begin{figure}[H]  \begin{subfigure}[t]{.5\textwidth}    \includegraphics[width=\linewidth]{figs/HQO_20240723_recovery_time_Channel_1_Bias_31_2uA_trigg_300-1000mV_thesis}    \caption{}    \label{fig: recovery_time_measurement_31_2uA}  \end{subfigure}  \hfill  \begin{subfigure}[t]{.5\textwidth}    \includegraphics[width=\linewidth]{figs/HQO_20240723_recovery_time_Channel_1_Bias_25uA_trigg_300-1000mV_thesis}    \caption{}    \label{fig: recovery_time_measurement_25uA}  \end{subfigure}  \caption{Autocorrelation of distances between two photon detection events for \subref*{fig: recovery_time_measurement_31_2uA} $I_{B} = 31.2uA$ and \subref{fig: recovery_time_measurement_25uA} $I_{B} = 25\si{\micro \A}$.  The X-axis represents the time distance between two signals in 1ns steps and the Y-axis the counts per bin.}  \label{fig: recovery_time_measurement_31_2_and_25uA}\end{figure}The results of the autocorrelation show three major features.First, for low trigger voltages, the dead time is longer and decrease for increasing trigger voltages.This is true for both, the lower and higher bias current.The reason for this behavior can be explained best by looking at an exemplary raw analog signal (see fig \ref{fig: analog_signal_31_2_uA_double_peak})of two consequent pulses.In figure \ref{fig: analog_signal_31_2_uA_double_peak} one can see the peaks of two consecutive detection signals,where the second pulse starts ($\approx 20ns$) before the falling edge of the first pulse ends.Physically, that means, that before the first signal spike has fully decayed a second photon, already hit the detector,got detected and produced a second spike.If the trigger is below 500$\si{\milli \V}$ the time tagger will count this signal as one count, since the second pulse came whenthe remaining voltage of the wire was above 500$\si{\milli \V}$.If the trigger is above 500$\si{\milli \V}$ both pulses will be counted.This allows successive events with smaller time delay between them and therefore reduces the perceived recovery time.\begin{figure} \centering \includegraphics[width=0.5\textwidth]{~/sciebo/Bilder_BA_MaxR/HQO_20240710_Ana_signal_30uA_tv_600mV_double_single} \caption{Analog signal screenshot of an oscilloscope from channel 1 for a bias current of 31.2$\si{\micro \A}$and a trigger of 600$\si{\milli \V}$. X-axis: time in 50ns steps (straight vertical yellow lines), Y-axis voltage in 500$\si{\milli \V}$ steps (straight horizontal yellow lines)} \label{fig: analog_signal_31_2_uA_double_peak}\end{figure}Secondly,for the lower bias current (26$\si{\micro \A}$), the rising count curves for each trigger voltage converge earlierin comparison to the bias current of 31.2 $\si{\micro \A}$.At the bias current of 31.2 $\si{\micro \A}$, the four different count curves remain distinct until they reach their peak.This can be attributed to the differing pulse heights, dependent on the bias current.According to Ohm's law, for the same resistivity, a lower bias current corresponds to lower voltage pulses and vice versa.Due to the lower pulse, the regime, where pulses can be resolved by a trigger voltage of 600$\si{\milli \V}$ but not 500$\si{\milli \V}$becomes smaller.The different pulse heights can also be verified by the recorded analog signals shown in figure:\ref{fig: analog_signals_comparison}.The third interesting feature is the count peak at 24-27ns for 31.2$\si{\micro \A}$ and a trigger level of 300 $\si{\milli \V}$\ref{fig: recovery_time_measurement_31_2uA}.This small peak is less visible at lower bias currents or higher trigger levels.Closer examination of this trend are shown in the appendix \ref{sec:app}.This behavior can be understood by taking into account that the bias current needs a finite amount of time to reachits target value once the superconductivity is restored and will also overshoot a bit after reaching the target value.A sketch of the expected behavior is shown in figure \ref{fig: Oscillating_bias_current}.\begin{figure} \centering \includegraphics[width=0.8\textwidth]{~/sciebo/Bilder_BA_MaxR/HQO_20240710_oscilating_bias_current} \caption{A sketch of the assumed bias current behaviour is presented herewith. Once the bias current has been reached, the current undergoes a brief oscillation before stabilising at the bias current level.} \label{fig: Oscillating_bias_current}\end{figure}Following the detection of a current, the course of the current does not proceed directly and precisely to the bias current.Instead, it oscillates for a brief period and then rapidly reaches equilibrium.If the target bias current is close to the critical current the overshooting might cause a breaking of thesuperconductivity leading to a time correlated increase in the dark current rate (seen in figure \ref{fig: DCR_black_box_to_exp}).This feature is less severe for higher tigger voltages which suggests that the self triggered pulse is typicallyof smaller height.It can be concluded that the optimal recovery time is achieved when the detector is operated at a bias current maintainedat a level that is close but not excessive to critical current of 31.2$\si{\micro \A}$ and a trigger voltage of 600v.This enables the generation of a higher pulse, which in turn results in a steeper reset time, a shorter dead time,and consequently, a shorter recovery time.\textcolor{red}{DISCLAIMER: ALL THE RESULTS AND METHODS ARE NOT FINALIZED AND WILL BE ADAPTED, IF METHOD IS AGREED}Finally, a reasonable trigger point for a bias current of 31.2$\si{\micro \A}$ is 600$\si{\milli \V}$, which yields the lowest recovery time.The calculation of the $\tau_{\text{rec}}$ is done, by calculating the average of counts per bin from 30$\si{\micro \A}$ tillthe end of the measurement period.Here, I choose 30$\si{\micro \A}$ as the starting point, because from this point a constant curve is visible (saturation point).Furthermore, I fitted a function to estimate the point were $50\%$ and $90\%$ of the full efficiency is reached.Moreover, the raise of the function for the dividing line between dead and reset time is calculated by the point wherethe gradient of the fitting function is not zero any more.The calculated points are visualized in fig: \ref{fig: recovery_time} and the final recovery time is$\tau^{90\%}_{rec} = (21.21 \pm 0.34) ns$, where $\tau_{\text{d}} = (14.13 \pm 0.14) ns$ is the dead time and $\tau_{\text{r}} = (7.08 \pm 0.36) ns$  the reset time.Moreover, the time the detector is back at efficiency of $\eta_{\text{sde}} = 50 \%$  is $\tau^{50\%}_{rec} = (18.21 \pm 0.24) ns$.\begin{figure} \centering \includegraphics[width=0.5\textwidth]{figs/HQO_20240710_Deadtime_Channel_1_Bias_31_2uA_trig_600mV_thesis} \caption{Histogram of distances between signals for $I_{B} = 31.2uA$ and 600$\si{\milli \V}$. H- and v-lines indicate the dead-; reset- and recovery time} \label{fig: recovery_time}\end{figure}\FloatBarrier\section{Efficiency}\label{sec:efficiency}There are three types of efficiencies that describe independent loss processes in single photon detection.An efficiency can be equated with the probability that a quantum mechanically process under consideration will occur.\\These three efficiencies are the coupling efficiency ($\eta_{\text{K}}$),the absorption efficiency ($\eta_{\text{A}}$) and the registration efficiency ($\eta_{\text{R}}$).The graph \ref{fig: single_efficiency_terms} shows schematically where the different loss in the detectionprocess appears.When a photon is sent to a detector via an optical fibre, not all photons can be coupled into thefibre.The probability of coupling is called the \textit{coupling efficiency}.When photons hit the detector, there is always a probability that the photon will not be absorbed by the detector.This is due to material and symmetry properties.This is described by the \textit{absorption efficiency}.Finally, there is always a probability that the photon will not be registered by the measuring electronics.This is expressed with the \textit{Registration efficiency}.\begin{figure}    \centering    \includegraphics[width=0.8\textwidth]{figs/HQO_20240712_systemd_detection_efficiency_visualized_engl}    \caption{Sketch of the components in the detector setup where photonlosses appear and consequently a propability     ($\eta_{\text{K}}$, $\eta_{\text{A}}$ or $\eta_{\text{R}}$) has to be considered.}    \label{fig: single_efficiency_terms}\end{figure}In literature, these terms are summarized in two general efficiency terms: the device detection efficiency($\eta_{\text{dde}} = \eta_{\text{A}} \cdot \eta_{\text{R}}$) and the system efficiency($\eta_{\text{sde}} = \eta_{\text{A}} \cdot \eta_{\text{R}} \cdot \eta_{\text{K}}$) \cite{natarajan-2012}.The device's efficiency $\eta_{\text{dde}}$ corresponds to the efficiency of the device itself, when photons are sentto the detector in a free environment without any fibre coupling.In this way only the efficiency of the elements detecting photons are considered.The system detection efficiency $\eta_{\text{sde}}$ takes the coupling losses to the optical fibre into account.This is the case if the detector is connected to a fibre, as the device properties or the experiment does not allowphoton detection in a free environment.\\\subsection*{Measurement and results}\textcolor{red}{DISCLAIMER: ALL THE RESULTS AND METHODS ARE NOT FINALIZED AND WILL BE ADAPTED, IF METHOD IS AGREED}In the given setup, only the system detection efficiency c is measured, because the detector isalready prebuild with a fixed coupling to a fibre.This internal fibre is connected to a fibre to fibre port (FC/PC to FC/PC).Through this one, one can connect the detector with an external fibre and send photons from the experimentto the detector.The system detection efficiency $eta_{\text{sde}}$ is measured in different ways, each pointing out a different dependency.Each measurement was done in the setup explained in part \ref{sec:SNSPD_setup}.In addition, the order of the measurements is a relevant factor, as the conclusions drawn for one measurementinfluence the preceding measurements.In conclusion, it is first necessary to align the polarization of the laser light with the slow axis of the fibreconnected to the output port of the detector.Along the manual the coupled light needs to polarized along the slow axis of the fibre \cite{manual_single_quantum_snspd}.This is explained by the technical fact that only the slow axis of the fibre is coupled to the output port ofthe detector.The reason for this preselection of polarization is the related maximum $\eta_{A}$, explainedin part \ref{sec:SNSPD_working_principle}.\\By adjusting the laser beam linear with a quarter-wave plate first and rotating the half-wave platein 10 degree steps afterwards, the polarization axis was rotated.With this, it was possible to find the angle configuration were the maximum of light was coupled to the slow axis of the fibre.This is important since measuring subsequent efficiency measurements aligned to a different axis wouldput a systematic downshift on the true efficiency of the detector.\\In the figures \ref{fig: angle_dependend_countrate_sde} the count rate and the resulting system detection efficiencies are depicted.For preceding measurements the polarization was aligned to an angle, where a maximum of $eta_{\text{sde}} = 81.652 \pm 10.872$ was reached.\begin{figure}  \begin{subfigure}[t]{.5\textwidth}    \includegraphics[width=\linewidth]{figs/HQO_2024011_countrate_angle_thesis}    \caption{}    \label{fig: angle_dependend_countrate}  \end{subfigure}  \hfill  \begin{subfigure}[t]{.5\textwidth}    \includegraphics[width=\linewidth]{figs/HQO_2024011_sde_angle_thesis}    \caption{}    \label{fig: angle_dependend_countrate_sde}  \end{subfigure}  \caption{\subref*{fig: angle_dependend_countrate} Angle dependent countrate \subref*{fig: angle_dependend_countrate_sde}  Angle dependent system detection efficiency $eta_{\text{sde}}$}\end{figure}In a second measurement the bias current und trigger voltage dependency was investigated.For this the bias current was swept from 0 to 35$\si{\micro \A}$in 0.1$\si{\micro \A}$steps and events within 200ms integrationtime were counted.\begin{figure}    \centering    \includegraphics[width=0.5\textwidth]{figs/HQO_20240711_sde_bias_current_tv_300_1000_thesis}    \caption{System detection efficiency for different bias currents and trigger voltages}    \label{fig: sde_bias_current_tv_300_1000}\end{figure}In fig \ref{fig: sde_bias_current_tv_300_1000} one can see that at lower trigger voltage of 300$\si{\milli \V}$ the count rate oscillatesa bit, which again corresponds likely to the increased dark count rates as explained in \ref{fig: Oscillating_bias_current}.Furthermore, one can see that for lower trigger voltages the detected counts for lower bias currents are higher.This is due to the consideration of lower voltage pulses in lower bias current regimes if the trigger voltage is low.Hence, with a lower trigger voltage one can count already signals, however, with a very low system detection efficiency$\eta_{\text{sde}}$.Another behaviour is the saturation, which is reached by each trigger voltage configurationat around $I_{Bias} \approx 20uA$ .Here the maximum count rate is reached and the efficiency course continues constant without any gradient.At the end at a bias current of  $I_{Bias} \approx 32uA$ the efficiency drops.This is because the critical current is reached.After this, along the \cite{manual_single_quantum_snspd}, the detector stops sending countable analog signals,which corresponds to an efficiency of zero.Finally, measurements for different count rates were done, to determine the bandwidth where the photons are detected withthe highest efficiency.The count rates were varied by using different ND filtersa and was done by putting together different ND filtercombinations in order to get different OD values and therefore different count rates.To avoid the oscilation of count rates near the critical current as seen by the blue course in fig \ref{fig: sde_bias_current_tv_300_1000}a trigger voltage of 750$\si{\milli \V}$ is used.\begin{figure}  \begin{subfigure}[t]{.5\textwidth}    \centering    \includegraphics[width=\linewidth]{figs/HQO_20240711_sde_bias_current_750_thesis}    \caption{}    \label{fig: sde_bias_current_750_thesis}    \end{subfigure}  \hfill  \begin{subfigure}[t]{.5\textwidth}    \centering    \includegraphics[width=\linewidth]{figs/HQO_20240711_sde_photon_rate_750_thesis}    \caption{}    \label{fig: sde_count_rates_750_thesis}  \end{subfigure}  \caption{\subref*{fig: sde_bias_current_750_thesis} Course of system detection efficiency for different bias current and count rates \subref*{fig: sde_count_rates_750_thesis} Course of system detection efficiency for different count rates}\end{figure}In fig \ref{fig: sde_bias_current_750_thesis} one can see that the system detection efficiency is decreasing with increasingcount rates.Moreover, only for the measurement of 1.391MHz one gets a range of bias currents where the efficiency is constant.All the other measurements with higher count rates show a continues increase in $\eta_{\text{sde}}$ up to the point thedetector shut down.Furthermore, the shut-down happens earlier, when the count rate is higher.This dynamics follows from the fact that the detector is not able to recover in time, when the count rate is too high.Hence, the critical temperature is reached earlier, when the count rate is raising and the detections is shut down.In fig \ref{fig: sde_count_rates_750_thesis} the maximum system detection efficiency for each count rate is shown.One see clearly a downward trend for raising count rates.Moreover, the measurement shows the saturating and therefore a maximal system detection efficiency of $(87.308 \pm 9.159) \%$for channel 1. This $\eta_{\text{sde}}$ is reached at a count rate of $1.391 \pm 0.32$MHz.\FloatBarrier\section{Discussion}%#TODO - Freitag% durch lesen und verbessern% Diskussion schreiben%Influence of timing jitter on efficiency and recovery time.%- No Afterpulsing%- Temperature 2.9 instead of 2.5Í%- Photon counters formel für NQO Excelitas SPCS - Note #7