% !TEX root = mythesis.tex

%==============================================================================
\chapter{Faint laser source for detector characterization}
\label{sec:SNSPD_setup}
%==============================================================================

Counting photons one has to consider the characteristics of the emitter source as well.
Here I focus only on the characteristics of a laser source affecting the characterization I made.
For this first, I briefly sum up characteristics of a laser light source and its conditions it gives us for our detector
characterization.
Further, I make considerations regarding the inherent blindspots of laser light due to the randomness nature of photons
in coherent light.
Afterward, I introduce the setup I build for characterizing our SNSPD.\\

\section{Characteristics of faint laser sources}\label{sec:characteristics_faint laser sources}

Using a laser source enables us, considering the emitting light as monochromatic beam with angular frequency $\omega$
and constant Intensity I. The Photon flux of a laser is defined as the photon average number passing through
a cross-section in unit time:

\begin{align}
    \Phi = \frac{I A}{\hbar \omega} = \frac{P}{\hbar \omega} \text{photons $s^{-1}$}
\end{align}

where \textit{I} is the current of photon, \textit{A} the cross-section, \textit{P} the laser power and $\omega$ the angular frequency which
depends on the wavelength.

The average number of registered counts $N(T)$ for a given detection time T by a detector is given by:

\begin{align}
    \text{N(T)} = \text{T} \Phi \eta= \frac{P T \eta}{\hbar \omega} \text{photons}
\end{align}

and hence the registered counts $\mathbb{R}$ per unit time by:

\begin{align}
    \mathcal{R} = \frac{\text{N(T)}}{\text{T}} = \eta \Phi= \frac{P \eta}{\hbar \omega} \text{photons  $s^{-1}$}
\end{align}

where \textit{$\eta$} is the efficiency of the detector system.

This detection count rate is restricted by the largest amount on the dead time of the detector.

\begin{align}
    \mathcal{R_{\max}} \propto \frac{1}{\tau_{d}}
\end{align} \\

Because the used laser has a minimum threshold power which corresponds to a photonrate above the maximum one,
one has to attenuate the laser power in order to detect all events.

The photon statistic of coherent light, in our case (in reasonable approximation) of our laser light,
is given by poisson statistics.
This characteristic stems from discrete nature of photons and hence non-equidistant spacing between photons.
Measuring single photons, one has to ensure that we have a neglectable amount of photons in the segment
of the deadtime because else our light characteristics inherently forbid us measuring each of the incoming photons.\\

This is calculated by looking at the propability of measuring one photon per length segment, given by the deadtime.
First, we consider one Length segment given by the deadtime $\tau_{\text{d}}$ and the measurement time $\tau_{\text{m}}$:
\begin{align}
    L_{\text{d}} = \frac{c}{\tau_{\text{d}}}\\
    L_{\text{m}} = \frac{c}{\tau_{\text{m}}}
\end{align}

Through this, we can calculate for a given measurement time the average photon rate per length segment $L_{\text{m}}$
and further the probability of finding one photon in the particular line segment $L_{\text{d}}$:

\begin{align}
    \bar{n} = \Phi \frac{L_{\text{m}}}{c}\\
    p = \frac{\bar{n}}{\text{N}}
\end{align}

Where $N = \frac{c}{L_{\text{d}}}$ are the subsegments of the measured length segment $L_{\text{m}}$.

This enables us to calculate the probability p of finding n Photons per deadtime segment $L_{\text{d}}$ and
including this in our measurements.

\section{Experimental setup}

Though not measured by ourselves first, it is known from \textcolor{red}{Zitat} deadtime of the detector is around 20-25ns.
This gives us a theoretical maximum detection rate of $\mathcal{R_{\max}} \propto \frac{1}{\tau_{d}} = 25-50\si{M\Hz}$.
In order to realize the laser attenuation the following setup was build:

The first coupling of the laser light was done in order to operate with the beam on a lower stage, because the laserbeam 
was due to its construction on an uplifted stage. 
Afterward the beam passes a pbs to filter the horizontal polarized E field out. 
Further a galilei telescope was build out of one focal and one diffusing lens for minimizing the beam width so it fits fully
on the surface of the AOM crystal. The first order of the AOM was set for flexible voltage modulation of the laser.
A cover was used to filter out the first from the zeroth order of the AOM. Then a flip mount was placed, where 
Neutral density (ND) filers could be placed in and flexible placed in and out of the laser beam. 
The ND filters have the function to attenuate the laser light. 
At the end, before the laser light was again coupled in two waveplates where used to stabilize the light polarization regarding the
slow axis of the fibre. Afterwards the light was coupled back into a fibre, so it can be send to the detector.
It was important that the light was coupled in to a APC/PC to FC/PC optical fibre because the detector only had a FC/PC optical fibre
input, in order to maintain higher efficiency coupling in the light.\\

Besides, this optical setup had to be protected from environmental light. For this, the room where the setup was running was shielded 
with alu foil which has a reflection coefficient of almost 90$\%$ at the operating wavelenght of 780nm. 
Morverover a black box was build. It has the function to avoid further environmental light coupling into the fibre. Additionally, 
the optical fibre running from the optical setup to the detector was shielded with alu foil as well to avoid absoption from the optical 
fibre. \\

\begin{figure}
    \centering
    \includegraphics[width=0.8\textwidth]{figs/HQO_20240712_faint_laser_source_full_set_up_thesis}
    \caption{Setup for the SNSPD characterization (Need to be updated)}
    \label{fig: faint_laser_source_full_set_up}
\end{figure}

Neutral density (ND) filter calibration \\

We exactly need to know how many photons (related to Power) hit our detector.
For this we need to measure the power (or number of photons) of the laser light we shining on the detector.
The light we want to shine on the detector is very weak.
So weak, we cannot measure it with powermeters or any other measurement devices (except with the uncharacterized detector)
This weak power cannot reached by regulating the laser power down by the laser device (why not? laser minimum power function
only with a power higher than required), but has to be done by Neutral Density filters.
So our laser power we send to the detector depends on ND filter.\\

Now there are two challenges relying on ND filters.
First, since the fabric values are not precise, the filters need to be calibrated ourselves.
Second, one single ND filter cannot attenuate the laser power enough and therefore one has to stack several density
filters on each other, since their OD values are adding up.

From these two constraints, we need to calibrate the ND filters carefully, to get precise and accurate OD values of the
ND filters.

To get accurate results, we measure the OD value with two methods to rule out systematic errors in our results.
The first method measures the OD values, where the ND filters are set in the flip mount as described in graph \ref{}.
The second method measures the OD values after the fibre coupling directly in front of the powermeter
outside the blackbox.

The attenuation of ND filters is quantized by the Optical density (OD) value.
The measurement of the OD values done by sending light on the filter and measuring the power with and
without the filter.
The OD value is then calculated by the logarithmic value of the inverse transmission value.
The transmission value is given by the proportion of the power with the filter compared without the filter.

Afterward, the final OD values of each method were averaged and the corresponding systematic and statistical errors are
considered to get the closest to the true OD value for the ND filters.

Based one these OD values each measurement involving the laser was done.

%uncertainties package (python)




%Relying on: https://nano-optics.physik.uni-siegen.de/education/teaching/lab_courses/sps-exp-manual.pdf

- Basics of photon distribution of laser, attenuation, poisson statistics \\
- Set up for laser attenuation \\
- Single Photon Detection paper \\

\FloatBarrier
%==============================================================================

